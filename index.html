<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELO PPA</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    
    <script src="https://unpkg.com/lucide-react@0.292.0/dist/lucide-react.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fdfaf6; /* Fundo Bege */
        }
        .header-title {
            font-family: 'Poppins', sans-serif;
            font-size: 2rem; /* Tamanho aumentado */
            color: #2c5282; /* Tom de azul acinzentado */
        }
        .dashboard-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            border: 1px solid #e0e0e0; /* Borda sutil */
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.05); /* Sombra mais suave */
            transition: all 0.3s ease-in-out;
        }
        .tab-button {
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
            color: #6b7280; /* Cinza para abas inativas */
        }
        .tab-button.active {
            border-bottom-color: #dd6b20; /* Laranja queimado para a borda ativa */
            color: #dd6b20; /* Laranja queimado para o texto ativo */
            font-weight: 600;
        }
        .kpi-card {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .kpi-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #2c5282; /* Azul acinzentado */
        }
        .kpi-label {
            font-size: 0.875rem;
            color: #4b5563;
        }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen">
        <header class="bg-white border-b border-gray-200">
            <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between">
                <div class="flex items-center">
                    <img src="logo.jpg" alt="Logo ELO PPA" width="80" height="80">
                    <h1 class="ml-3 header-title">ELO PPA</h1>
                </div>
            </div>
        </header>

        <div class="bg-white border-b border-gray-200">
            <nav class="max-w-7xl mx-auto -mb-px flex space-x-8 px-4 sm:px-6 lg:px-8" aria-label="Tabs">
                <button onclick="changeTab(0)" class="tab-button active">
                    Elaboração do PPA
                </button>
                <button onclick="changeTab(1)" class="tab-button">
                    Consulta Pública e Participação Cidadã
                </button>
                <button onclick="changeTab(2)" class="tab-button">
                    Monitoramento e Avaliação
                </button>
                <button onclick="changeTab(3)" class="tab-button">
                    Capacitação Institucional
                </button>
            </nav>
        </div>

        <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
            <div id="dashboards-content">
                <div class="dashboard-pane">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4 px-4 sm:px-0">Módulo 1: Elaboração do PPA – Dashboard de Formulação e Alinhamento</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="dashboard-card lg:col-span-1">
                            <h3 class="font-semibold text-gray-800 mb-4">Status da Formulação do PPA</h3>
                            <div class="relative h-64">
                                <canvas id="ppaStatusChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card lg:col-span-2">
                            <h3 class="font-semibold text-gray-800 mb-4">Alinhamento aos ODS</h3>
                            <div class="relative h-64">
                                <canvas id="odsAlignmentChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card lg:col-span-1">
                            <h3 class="font-semibold text-gray-800 mb-4">Alocação Proposta por Eixo Temático</h3>
                            <div class="relative h-80">
                                <canvas id="allocationChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card lg:col-span-2">
                            <h3 class="font-semibold text-gray-800 mb-4">Alocação por Marcadores Específicos (em R$ milhões)</h3>
                            <div class="relative h-80">
                                <canvas id="markersChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card lg:col-span-3">
                            <h3 class="font-semibold text-gray-800 mb-4">Diagnóstico Municipal (IDH)</h3>
                            <div class="relative h-80">
                                <canvas id="diagnosticChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card lg:col-span-3">
                            <h3 class="font-semibold text-gray-800 mb-4">Mapeamento de Normativos</h3>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Programa</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Normativo Associado</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Educação para Todos</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">LDB 9.394/96</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Integrado</span></td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Saúde da Família</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Lei Orgânica da Saúde 8.080/90</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Integrado</span></td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Saneamento Básico</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Lei 11.445/07</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">Em Análise</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-pane hidden">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4 px-4 sm:px-0">Módulo 2: Consulta Pública e Participação Cidadã – Dashboard de Engajamento Popular</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="dashboard-card kpi-card">
                            <h3 class="font-semibold text-gray-800 mb-2">Total de Sugestões</h3>
                            <p class="kpi-value">12.458</p>
                        </div>
                        <div class="dashboard-card">
                            <h3 class="font-semibold text-gray-800 mb-4">Participação por Canal</h3>
                            <div class="relative h-64">
                                <canvas id="participationChannelChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card md:col-span-2">
                            <h3 class="font-semibold text-gray-800 mb-4">Principais Demandas da População</h3>
                            <div class="relative h-64">
                                <canvas id="suggestionsByThemeChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card md:col-span-2 lg:col-span-2">
                            <h3 class="font-semibold text-gray-800 mb-4">Alcance Geográfico da Participação</h3>
                            <div class="bg-gray-200 h-64 rounded-md flex items-center justify-center">
                                <p class="text-gray-500">[Visualização de Mapa Coroplético]</p>
                            </div>
                        </div>
                        <div class="dashboard-card md:col-span-2 lg:col-span-2">
                            <h3 class="font-semibold text-gray-800 mb-4">Engajamento dos Conselhos Municipais</h3>
                            <div class="overflow-x-auto">
                                <table class="min-w-full">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Conselho</th>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Deliberação</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white">
                                        <tr>
                                            <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800">Conselho de Saúde</td>
                                            <td class="px-4 py-3 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <div class="w-full bg-gray-200 rounded-full h-4"><div class="bg-green-500 h-4 rounded-full" style="width: 100%;"></div></div>
                                                    <span class="ml-2 text-sm text-gray-600">100%</span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="bg-gray-50">
                                            <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800">Conselho de Educação</td>
                                            <td class="px-4 py-3 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <div class="w-full bg-gray-200 rounded-full h-4"><div class="bg-green-500 h-4 rounded-full" style="width: 95%;"></div></div>
                                                    <span class="ml-2 text-sm text-gray-600">95%</span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800">Conselho da Criança</td>
                                            <td class="px-4 py-3 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <div class="w-full bg-gray-200 rounded-full h-4"><div class="bg-yellow-500 h-4 rounded-full" style="width: 70%;"></div></div>
                                                    <span class="ml-2 text-sm text-gray-600">70%</span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="bg-gray-50">
                                            <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800">Conselho de Assistência</td>
                                            <td class="px-4 py-3 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <div class="w-full bg-gray-200 rounded-full h-4"><div class="bg-red-500 h-4 rounded-full" style="width: 40%;"></div></div>
                                                    <span class="ml-2 text-sm text-gray-600">40%</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="dashboard-card md:col-span-2 lg:col-span-4">
                            <h3 class="font-semibold text-gray-800 mb-4">Acompanhamento das Demandas Populares no PPA</h3>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Demanda Popular</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tema</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Programa no PPA</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Reforma da Escola no Bairro Sol Nascente</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Educação</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Contemplada</span></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Educação Infantil para Todos</td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Asfaltar a rua principal do Jardim Botânico</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Infraestrutura</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Contemplada</span></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Mobilidade Urbana Sustentável</td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Aumentar o policiamento noturno na área central</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Segurança</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">Em Análise Técnica</span></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">-</td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Criar um parque para cães</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Lazer</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">Não Contemplada</span></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Justificativa: Baixa prioridade orçamentária</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-pane hidden">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4 px-4 sm:px-0">Módulo 3: Monitoramento e Avaliação – Dashboard de Desempenho</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="dashboard-card">
                            <h3 class="font-semibold text-gray-800 mb-4">Execução Orçamentária vs. Metas Físicas (Programa X)</h3>
                            <div class="relative h-80">
                                <canvas id="executionVsGoalsChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card">
                            <h3 class="font-semibold text-gray-800 mb-4">Desempenho por Dimensão do IEGM</h3>
                            <div class="relative h-80">
                                <canvas id="iegmChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card lg:col-span-2">
                            <h3 class="font-semibold text-gray-800 mb-4">Progresso dos Indicadores de Desempenho (KPIs)</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="p-4 border rounded-lg">
                                    <div class="flex justify-between items-center mb-1"><span class="text-sm font-medium text-gray-600">Taxa de Alfabetização</span><span class="font-bold text-green-600">92%</span></div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-green-600 h-2.5 rounded-full" style="width: 92%"></div></div>
                                </div>
                                <div class="p-4 border rounded-lg">
                                    <div class="flex justify-between items-center mb-1"><span class="text-sm font-medium text-gray-600">Leitos Hospitalares / 1k hab.</span><span class="font-bold text-yellow-600">75%</span></div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-yellow-500 h-2.5 rounded-full" style="width: 75%"></div></div>
                                </div>
                                <div class="p-4 border rounded-lg">
                                    <div class="flex justify-between items-center mb-1"><span class="text-sm font-medium text-gray-600">Redução Emissão CO2</span><span class="font-bold text-red-600">40%</span></div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-red-600 h-2.5 rounded-full" style="width: 40%"></div></div>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-card lg:col-span-2">
                            <h3 class="font-semibold text-gray-800 mb-4">Desempenho por Principais Áreas</h3>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Área Estratégica</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Orçamento Executado</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">% Execução</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status Geral</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Saúde</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">R$ 45.3M / R$ 50M</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">90.6%</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">No Prazo</span></td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Educação</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">R$ 60.1M / R$ 65M</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">92.4%</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">No Prazo</span></td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Infraestrutura</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">R$ 15.2M / R$ 30M</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">50.6%</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">Atenção</span></td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Segurança Pública</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">R$ 8.1M / R$ 20M</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">40.5%</td>
                                            <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">Atrasado</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <h3 class="font-semibold text-gray-800 mb-4">Andamento das Entregas Estratégicas</h3>
                            <div class="relative h-96">
                                <canvas id="keyDeliverablesChart"></canvas>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <h3 class="font-semibold text-gray-800 mb-4">Alertas e Pontos de Atenção</h3>
                            <ul class="space-y-4">
                                <li class="flex items-start">
                                    <div class="flex-shrink-0"><svg class="h-5 w-5 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 15a1 1 0 110-2 1 1 0 010 2zm-1-4a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd" /></svg></div>
                                    <div class="ml-3"><p class="text-sm text-gray-700">Programa <span class="font-bold">"Cidade Segura"</span> com execução orçamentária 40% abaixo do esperado para o período.</p></div>
                                </li>
                                <li class="flex items-start">
                                    <div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 15a1 1 0 110-2 1 1 0 010 2zm-1-4a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd" /></svg></div>
                                    <div class="ml-3"><p class="text-sm text-gray-700">A entrega <span class="font-bold">"Pavimentação de 50km de Vias"</span> está com 20% de avanço físico, mas já consumiu 45% do orçamento.</p></div>
                                </li>
                                <li class="flex items-start">
                                    <div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg></div>
                                    <div class="ml-3"><p class="text-sm text-gray-700">Revisão anual do PPA agendada para a próxima semana. Preparar relatórios de desempenho.</p></div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="dashboard-pane hidden">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4 px-4 sm:px-0">Módulo 4: Capacitação Institucional – Dashboard de Desenvolvimento Institucional</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="dashboard-card kpi-card">
                            <h3 class="font-semibold text-gray-800 mb-2">Certificações em Cursos</h3>
                            <p class="kpi-value">873</p>
                        </div>
                        <div class="dashboard-card kpi-card">
                             <h3 class="font-semibold text-gray-800 mb-2">Avaliação Média (Cursos)</h3>
                             <p class="kpi-value">4.8 <span class="text-2xl text-yellow-500">★</span></p>
                        </div>
                        <div class="dashboard-card kpi-card">
                            <h3 class="font-semibold text-gray-800 mb-2">Atendimentos Rápidos</h3>
                            <p class="kpi-value">2.154</p>
                        </div>
                        <div class="dashboard-card kpi-card">
                             <h3 class="font-semibold text-gray-800 mb-2">Satisfação (Atendimentos)</h3>
                             <p class="kpi-value">94%</p>
                             <p class="text-sm text-gray-500">(Satisfeito / Muito Satisfeito)</p>
                        </div>
                        
                        <div class="dashboard-card md:col-span-2">
                             <h3 class="font-semibold text-gray-800 mb-4">Participação em Cursos</h3>
                             <div class="relative h-80">
                                <canvas id="courseParticipationChart"></canvas>
                             </div>
                        </div>
                        <div class="dashboard-card md:col-span-2">
                             <h3 class="font-semibold text-gray-800 mb-4">Nível de Satisfação (Atendimentos Rápidos)</h3>
                             <div class="relative h-80">
                                <canvas id="satisfactionChart"></canvas>
                             </div>
                        </div>
                        <div class="dashboard-card md:col-span-2 lg:col-span-4">
                            <h3 class="font-semibold text-gray-800 mb-4">Progresso de Capacitação por Secretaria (% de Conclusão)</h3>
                            <div class="relative h-80">
                                <canvas id="departmentProgressChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const dashboardPanes = document.querySelectorAll('.dashboard-pane');
        const tabButtons = document.querySelectorAll('.tab-button');
        let activeChartInstances = {};

        function changeTab(tabIndex) {
            // Esconde todos os painéis
            dashboardPanes.forEach(pane => pane.classList.add('hidden'));
            // Remove a classe 'active' de todos os botões
            tabButtons.forEach(button => button.classList.remove('active'));

            // Mostra o painel selecionado
            dashboardPanes[tabIndex].classList.remove('hidden');
            // Adiciona a classe 'active' ao botão clicado
            tabButtons[tabIndex].classList.add('active');
            
            // Destrói gráficos antigos para evitar sobreposição
            Object.values(activeChartInstances).forEach(chart => chart.destroy());
            activeChartInstances = {};

            // Renderiza os gráficos da aba ativa
            switch(tabIndex) {
                case 0: renderModule1Charts(); break;
                case 1: renderModule2Charts(); break;
                case 2: renderModule3Charts(); break;
                case 3: renderModule4Charts(); break;
            }
        }

        // --- FUNÇÕES DE RENDERIZAÇÃO DOS GRÁFICOS ---

        function renderModule1Charts() {
            // Gráfico 1: Status da Formulação do PPA (Donut)
            const ppaStatusCtx = document.getElementById('ppaStatusChart').getContext('2d');
            activeChartInstances.ppaStatusChart = new Chart(ppaStatusCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Definido', 'Em Andamento', 'Pendente'],
                    datasets: [{
                        data: [75, 15, 10],
                        backgroundColor: ['#60a561', '#f7b731', '#e57373'],
                        borderColor: '#fff',
                        borderWidth: 4
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { position: 'bottom' } } }
            });

            // Gráfico 2: Alinhamento aos ODS (Barra Horizontal)
            const odsAlignmentCtx = document.getElementById('odsAlignmentChart').getContext('2d');
            activeChartInstances.odsAlignmentChart = new Chart(odsAlignmentCtx, {
                type: 'bar',
                data: {
                    labels: ['ODS 4: Educação', 'ODS 3: Saúde', 'ODS 6: Água', 'ODS 11: Cidades', 'ODS 5: Gênero'],
                    datasets: [{
                        label: 'Programas por ODS',
                        data: [18, 15, 12, 9, 7],
                        backgroundColor: '#a3b18a'
                    }]
                },
                options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });

            // Gráfico 3: Alocação Proposta (Pizza)
            const allocationCtx = document.getElementById('allocationChart').getContext('2d');
            activeChartInstances.allocationChart = new Chart(allocationCtx, {
                type: 'pie',
                data: {
                    labels: ['Educação', 'Saúde', 'Infraestrutura', 'Meio Ambiente', 'Outros'],
                    datasets: [{
                        data: [35, 30, 15, 10, 10],
                        backgroundColor: ['#4a7c59', '#a3b18a', '#d4a373', '#e5e5e5', '#faedcd'],
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });
            
            // NOVO Gráfico: Marcadores Específicos (Barra Horizontal)
            const markersCtx = document.getElementById('markersChart').getContext('2d');
            activeChartInstances.markersChart = new Chart(markersCtx, {
                type: 'bar',
                data: {
                    labels: ['Criança e Adolescente', 'Sustentabilidade', 'Selo UNICEF', 'Igualdade Racial', 'Orçamento Sensível a Gênero'],
                    datasets: [{
                        label: 'Orçamento Alocado (R$)',
                        data: [25, 22, 18, 15, 12],
                        backgroundColor: '#d4a373'
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    }
                }
            });

            // Gráfico 5: Diagnóstico Municipal (Linha)
            const diagnosticCtx = document.getElementById('diagnosticChart').getContext('2d');
            activeChartInstances.diagnosticChart = new Chart(diagnosticCtx, {
                type: 'line',
                data: {
                    labels: ['2020', '2021', '2022', '2023', '2024'],
                    datasets: [{
                        label: 'IDH Municipal',
                        data: [0.72, 0.73, 0.75, 0.76, 0.78],
                        borderColor: '#4a7c59',
                        backgroundColor: 'rgba(74, 124, 89, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }

        function renderModule2Charts() {
            // Gráfico 1: Participação por Canal (Pizza)
            const channelCtx = document.getElementById('participationChannelChart').getContext('2d');
            activeChartInstances.participationChannelChart = new Chart(channelCtx, {
                type: 'pie',
                data: {
                    labels: ['Plataforma Web', 'WhatsApp IA', 'Reuniões Presenciais'],
                    datasets: [{
                        data: [65, 25, 10],
                        backgroundColor: ['#4a7c59', '#a3b18a', '#d4a373']
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });
            
            // Gráfico 3: Sugestões por Tema (Barra)
            const themeCtx = document.getElementById('suggestionsByThemeChart').getContext('2d');
            activeChartInstances.suggestionsByThemeChart = new Chart(themeCtx, {
                type: 'bar',
                data: {
                    labels: ['Segurança', 'Saúde', 'Educação', 'Infraestrutura', 'Lazer'],
                    datasets: [{
                        label: 'Número de Sugestões',
                        data: [4100, 3200, 2500, 1900, 758],
                        backgroundColor: '#d4a373'
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });
        }

        function renderModule3Charts() {
            // Gráfico 1: Execução vs Metas (Combinado)
            const executionCtx = document.getElementById('executionVsGoalsChart').getContext('2d');
            activeChartInstances.executionVsGoalsChart = new Chart(executionCtx, {
                type: 'bar',
                data: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    datasets: [
                        {
                            label: 'Execução Financeira (%)',
                            data: [20, 45, 70, 95],
                            backgroundColor: '#a3b18a',
                            order: 1
                        },
                        {
                            label: 'Metas Físicas Alcançadas (%)',
                            data: [18, 40, 65, 92],
                            borderColor: '#4a7c59',
                            type: 'line',
                            fill: false,
                            tension: 0.1,
                            order: 0
                        }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            // Gráfico 2: Desempenho IEGM (Radar)
            const iegmCtx = document.getElementById('iegmChart').getContext('2d');
            activeChartInstances.iegmChart = new Chart(iegmCtx, {
                type: 'radar',
                data: {
                    labels: ['i-Plan', 'i-Fiscal', 'i-Educ', 'i-Saúde', 'i-Prev', 'i-Ambiental', 'i-Gov TI'],
                    datasets: [{
                        label: 'Pontuação Municipal',
                        data: [85, 78, 92, 88, 70, 81, 90],
                        backgroundColor: 'rgba(74, 124, 89, 0.2)',
                        borderColor: '#4a7c59',
                        pointBackgroundColor: '#4a7c59'
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, scales: { r: { beginAtZero: true, max: 100 } } }
            });

            // NOVO Gráfico 3: Andamento de Entregas (Barra Horizontal)
            const keyDeliverablesCtx = document.getElementById('keyDeliverablesChart').getContext('2d');
            activeChartInstances.keyDeliverablesChart = new Chart(keyDeliverablesCtx, {
                type: 'bar',
                data: {
                    labels: ['Construção Hospital Municipal', 'Reforma de 10 Escolas', 'Pavimentação de 50km de Vias', 'Digitalização de Serviços', 'Novo Parque Central'],
                    datasets: [{
                        label: '% de Conclusão',
                        data: [65, 90, 20, 85, 45],
                        backgroundColor: [
                            '#f7b731',
                            '#60a561',
                            '#e57373',
                            '#60a561',
                            '#f7b731'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return ` ${context.raw}% concluído`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }

        function renderModule4Charts() {
            // Gráfico 1: Participação em Cursos (Barra)
            const courseCtx = document.getElementById('courseParticipationChart').getContext('2d');
            activeChartInstances.courseParticipationChart = new Chart(courseCtx, {
                type: 'bar',
                data: {
                    labels: ['Gestão de Projetos', 'Orçamento Público', 'Liderança', 'Comunicação'],
                    datasets: [
                        { label: 'Inscritos', data: [120, 95, 80, 110], backgroundColor: '#a3b18a' },
                        { label: 'Concluintes', data: [98, 85, 71, 92], backgroundColor: '#4a7c59' }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            // NOVO Gráfico 2: Nível de Satisfação (Doughnut)
            const satisfactionCtx = document.getElementById('satisfactionChart').getContext('2d');
            activeChartInstances.satisfactionChart = new Chart(satisfactionCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Muito Satisfeito', 'Satisfeito', 'Neutro', 'Insatisfeito'],
                    datasets: [{
                        label: 'Nível de Satisfação',
                        data: [1250, 780, 95, 29],
                        backgroundColor: ['#60a561', '#a3b18a', '#f7b731', '#e57373'],
                        borderColor: '#fff',
                        borderWidth: 4
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { position: 'bottom' } } }
            });
            
             // Gráfico 3: Progresso por Secretaria (Barra)
            const departmentCtx = document.getElementById('departmentProgressChart').getContext('2d');
            activeChartInstances.departmentProgressChart = new Chart(departmentCtx, {
                type: 'bar',
                data: {
                    labels: ['Educação', 'Saúde', 'Planejamento', 'Obras', 'Administração'],
                    datasets: [{
                        label: '% de Servidores com Cursos Concluídos',
                        data: [85, 78, 92, 65, 72],
                        backgroundColor: ['#4a7c59', '#6a994e', '#a3b18a', '#d4a373', '#faedcd'],
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });
        }

        // Inicializa a primeira aba ao carregar a página
        window.onload = () => {
            changeTab(0);
        };
    </script>

</body>
</html>







